{"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\index.js":{"path":"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":11,"column":3}},"2":{"start":{"line":9,"column":4},"end":{"line":9,"column":31}},"3":{"start":{"line":12,"column":0},"end":{"line":17,"column":3}},"4":{"start":{"line":15,"column":4},"end":{"line":15,"column":29}},"5":{"start":{"line":19,"column":15},"end":{"line":19,"column":59}},"6":{"start":{"line":21,"column":13},"end":{"line":21,"column":55}},"7":{"start":{"line":23,"column":39},"end":{"line":23,"column":95}}},"fnMap":{"0":{"name":"get","decl":{"start":{"line":8,"column":16},"end":{"line":8,"column":19}},"loc":{"start":{"line":8,"column":22},"end":{"line":10,"column":3}},"line":8},"1":{"name":"get","decl":{"start":{"line":14,"column":16},"end":{"line":14,"column":19}},"loc":{"start":{"line":14,"column":22},"end":{"line":16,"column":3}},"line":14},"2":{"name":"_interopRequireDefault","decl":{"start":{"line":23,"column":9},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":37},"end":{"line":23,"column":97}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":23,"column":46},"end":{"line":23,"column":94}},"type":"cond-expr","locations":[{"start":{"line":23,"column":70},"end":{"line":23,"column":73}},{"start":{"line":23,"column":76},"end":{"line":23,"column":94}}],"line":23},"1":{"loc":{"start":{"line":23,"column":46},"end":{"line":23,"column":67}},"type":"binary-expr","locations":[{"start":{"line":23,"column":46},"end":{"line":23,"column":49}},{"start":{"line":23,"column":53},"end":{"line":23,"column":67}}],"line":23}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":2},"f":{"0":1,"1":0,"2":2},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AACA","sourceRoot":"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\","sourcesContent":["import profile from './profile';\r\nimport stats from './stats';\r\n\r\nexport {\r\n    profile as getProfile,\r\n    stats as getStats,\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1d110529606858ebeaada02f85966b15b4c91637","contentHash":"5cf0d5872822760d692d4605a025f1c354c6a2f007182fcd01df6125c773d442"},"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\profile.js":{"path":"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\profile.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":51}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":53}},"4":{"start":{"line":12,"column":15},"end":{"line":12,"column":57}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":57}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":31}},"7":{"start":{"line":18,"column":11},"end":{"line":18,"column":27}},"8":{"start":{"line":20,"column":39},"end":{"line":20,"column":95}},"9":{"start":{"line":24,"column":12},"end":{"line":24,"column":205}},"10":{"start":{"line":25,"column":16},"end":{"line":28,"column":3}},"11":{"start":{"line":29,"column":2},"end":{"line":31,"column":5}},"12":{"start":{"line":30,"column":4},"end":{"line":30,"column":31}},"13":{"start":{"line":36,"column":10},"end":{"line":36,"column":51}},"14":{"start":{"line":39,"column":16},"end":{"line":39,"column":67}},"15":{"start":{"line":41,"column":2},"end":{"line":43,"column":3}},"16":{"start":{"line":42,"column":4},"end":{"line":42,"column":52}},"17":{"start":{"line":45,"column":15},"end":{"line":67,"column":3}},"18":{"start":{"line":69,"column":2},"end":{"line":76,"column":3}},"19":{"start":{"line":70,"column":4},"end":{"line":70,"column":122}},"20":{"start":{"line":71,"column":4},"end":{"line":71,"column":126}},"21":{"start":{"line":72,"column":4},"end":{"line":72,"column":128}},"22":{"start":{"line":73,"column":4},"end":{"line":73,"column":111}},"23":{"start":{"line":74,"column":4},"end":{"line":74,"column":115}},"24":{"start":{"line":75,"column":4},"end":{"line":75,"column":117}},"25":{"start":{"line":78,"column":2},"end":{"line":80,"column":3}},"26":{"start":{"line":79,"column":4},"end":{"line":79,"column":76}},"27":{"start":{"line":82,"column":2},"end":{"line":84,"column":3}},"28":{"start":{"line":83,"column":4},"end":{"line":83,"column":88}},"29":{"start":{"line":86,"column":2},"end":{"line":88,"column":3}},"30":{"start":{"line":87,"column":4},"end":{"line":87,"column":64}},"31":{"start":{"line":90,"column":2},"end":{"line":92,"column":3}},"32":{"start":{"line":91,"column":4},"end":{"line":91,"column":64}},"33":{"start":{"line":94,"column":2},"end":{"line":94,"column":32}},"34":{"start":{"line":99,"column":15},"end":{"line":99,"column":32}},"35":{"start":{"line":100,"column":20},"end":{"line":115,"column":3}},"36":{"start":{"line":116,"column":2},"end":{"line":116,"column":65}},"37":{"start":{"line":117,"column":12},"end":{"line":117,"column":14}},"38":{"start":{"line":118,"column":13},"end":{"line":118,"column":15}},"39":{"start":{"line":119,"column":13},"end":{"line":119,"column":15}},"40":{"start":{"line":120,"column":15},"end":{"line":120,"column":17}},"41":{"start":{"line":121,"column":13},"end":{"line":121,"column":15}},"42":{"start":{"line":123,"column":2},"end":{"line":125,"column":3}},"43":{"start":{"line":124,"column":4},"end":{"line":124,"column":67}},"44":{"start":{"line":127,"column":2},"end":{"line":129,"column":3}},"45":{"start":{"line":128,"column":4},"end":{"line":128,"column":73}},"46":{"start":{"line":131,"column":2},"end":{"line":133,"column":3}},"47":{"start":{"line":132,"column":4},"end":{"line":132,"column":75}},"48":{"start":{"line":135,"column":2},"end":{"line":137,"column":3}},"49":{"start":{"line":136,"column":4},"end":{"line":136,"column":64}},"50":{"start":{"line":139,"column":2},"end":{"line":141,"column":3}},"51":{"start":{"line":140,"column":4},"end":{"line":140,"column":66}},"52":{"start":{"line":143,"column":2},"end":{"line":145,"column":3}},"53":{"start":{"line":144,"column":4},"end":{"line":144,"column":66}},"54":{"start":{"line":147,"column":2},"end":{"line":149,"column":3}},"55":{"start":{"line":148,"column":4},"end":{"line":148,"column":70}},"56":{"start":{"line":151,"column":2},"end":{"line":153,"column":3}},"57":{"start":{"line":152,"column":4},"end":{"line":152,"column":72}},"58":{"start":{"line":156,"column":14},"end":{"line":156,"column":26}},"59":{"start":{"line":158,"column":2},"end":{"line":167,"column":3}},"60":{"start":{"line":159,"column":21},"end":{"line":159,"column":86}},"61":{"start":{"line":161,"column":20},"end":{"line":161,"column":85}},"62":{"start":{"line":163,"column":16},"end":{"line":163,"column":73}},"63":{"start":{"line":164,"column":15},"end":{"line":164,"column":70}},"64":{"start":{"line":165,"column":19},"end":{"line":165,"column":51}},"65":{"start":{"line":166,"column":4},"end":{"line":166,"column":62}},"66":{"start":{"line":169,"column":13},"end":{"line":208,"column":3}},"67":{"start":{"line":209,"column":2},"end":{"line":209,"column":30}},"68":{"start":{"line":213,"column":2},"end":{"line":223,"column":5}},"69":{"start":{"line":218,"column":4},"end":{"line":220,"column":5}},"70":{"start":{"line":219,"column":6},"end":{"line":219,"column":27}},"71":{"start":{"line":222,"column":4},"end":{"line":222,"column":45}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":31}},"loc":{"start":{"line":20,"column":37},"end":{"line":20,"column":97}},"line":20},"1":{"name":"getHTML","decl":{"start":{"line":23,"column":9},"end":{"line":23,"column":16}},"loc":{"start":{"line":23,"column":50},"end":{"line":32,"column":1}},"line":23},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":43},"end":{"line":29,"column":44}},"loc":{"start":{"line":29,"column":69},"end":{"line":31,"column":3}},"line":29},"3":{"name":"parseHTML","decl":{"start":{"line":35,"column":9},"end":{"line":35,"column":18}},"loc":{"start":{"line":35,"column":38},"end":{"line":95,"column":1}},"line":35},"4":{"name":"transform","decl":{"start":{"line":98,"column":9},"end":{"line":98,"column":18}},"loc":{"start":{"line":98,"column":38},"end":{"line":210,"column":1}},"line":98},"5":{"name":"_default","decl":{"start":{"line":212,"column":9},"end":{"line":212,"column":17}},"loc":{"start":{"line":212,"column":51},"end":{"line":224,"column":1}},"line":212},"6":{"name":"(anonymous_6)","decl":{"start":{"line":217,"column":5},"end":{"line":217,"column":6}},"loc":{"start":{"line":217,"column":29},"end":{"line":223,"column":3}},"line":217}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":94}},"type":"cond-expr","locations":[{"start":{"line":20,"column":70},"end":{"line":20,"column":73}},{"start":{"line":20,"column":76},"end":{"line":20,"column":94}}],"line":20},"1":{"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":46},"end":{"line":20,"column":49}},{"start":{"line":20,"column":53},"end":{"line":20,"column":67}}],"line":20},"2":{"loc":{"start":{"line":24,"column":12},"end":{"line":24,"column":205}},"type":"cond-expr","locations":[{"start":{"line":24,"column":32},"end":{"line":24,"column":127}},{"start":{"line":24,"column":130},"end":{"line":24,"column":205}}],"line":24},"3":{"loc":{"start":{"line":41,"column":2},"end":{"line":43,"column":3}},"type":"if","locations":[{"start":{"line":41,"column":2},"end":{"line":43,"column":3}},{"start":{"line":41,"column":2},"end":{"line":43,"column":3}}],"line":41},"4":{"loc":{"start":{"line":69,"column":2},"end":{"line":76,"column":3}},"type":"if","locations":[{"start":{"line":69,"column":2},"end":{"line":76,"column":3}},{"start":{"line":69,"column":2},"end":{"line":76,"column":3}}],"line":69},"5":{"loc":{"start":{"line":70,"column":29},"end":{"line":70,"column":121}},"type":"binary-expr","locations":[{"start":{"line":70,"column":29},"end":{"line":70,"column":113}},{"start":{"line":70,"column":117},"end":{"line":70,"column":121}}],"line":70},"6":{"loc":{"start":{"line":71,"column":31},"end":{"line":71,"column":125}},"type":"binary-expr","locations":[{"start":{"line":71,"column":31},"end":{"line":71,"column":117}},{"start":{"line":71,"column":121},"end":{"line":71,"column":125}}],"line":71},"7":{"loc":{"start":{"line":72,"column":32},"end":{"line":72,"column":127}},"type":"binary-expr","locations":[{"start":{"line":72,"column":32},"end":{"line":72,"column":119}},{"start":{"line":72,"column":123},"end":{"line":72,"column":127}}],"line":72},"8":{"loc":{"start":{"line":78,"column":2},"end":{"line":80,"column":3}},"type":"if","locations":[{"start":{"line":78,"column":2},"end":{"line":80,"column":3}},{"start":{"line":78,"column":2},"end":{"line":80,"column":3}}],"line":78},"9":{"loc":{"start":{"line":82,"column":2},"end":{"line":84,"column":3}},"type":"if","locations":[{"start":{"line":82,"column":2},"end":{"line":84,"column":3}},{"start":{"line":82,"column":2},"end":{"line":84,"column":3}}],"line":82},"10":{"loc":{"start":{"line":86,"column":2},"end":{"line":88,"column":3}},"type":"if","locations":[{"start":{"line":86,"column":2},"end":{"line":88,"column":3}},{"start":{"line":86,"column":2},"end":{"line":88,"column":3}}],"line":86},"11":{"loc":{"start":{"line":90,"column":2},"end":{"line":92,"column":3}},"type":"if","locations":[{"start":{"line":90,"column":2},"end":{"line":92,"column":3}},{"start":{"line":90,"column":2},"end":{"line":92,"column":3}}],"line":90},"12":{"loc":{"start":{"line":114,"column":11},"end":{"line":114,"column":42}},"type":"binary-expr","locations":[{"start":{"line":114,"column":11},"end":{"line":114,"column":34}},{"start":{"line":114,"column":38},"end":{"line":114,"column":42}}],"line":114},"13":{"loc":{"start":{"line":123,"column":2},"end":{"line":125,"column":3}},"type":"if","locations":[{"start":{"line":123,"column":2},"end":{"line":125,"column":3}},{"start":{"line":123,"column":2},"end":{"line":125,"column":3}}],"line":123},"14":{"loc":{"start":{"line":127,"column":2},"end":{"line":129,"column":3}},"type":"if","locations":[{"start":{"line":127,"column":2},"end":{"line":129,"column":3}},{"start":{"line":127,"column":2},"end":{"line":129,"column":3}}],"line":127},"15":{"loc":{"start":{"line":131,"column":2},"end":{"line":133,"column":3}},"type":"if","locations":[{"start":{"line":131,"column":2},"end":{"line":133,"column":3}},{"start":{"line":131,"column":2},"end":{"line":133,"column":3}}],"line":131},"16":{"loc":{"start":{"line":135,"column":2},"end":{"line":137,"column":3}},"type":"if","locations":[{"start":{"line":135,"column":2},"end":{"line":137,"column":3}},{"start":{"line":135,"column":2},"end":{"line":137,"column":3}}],"line":135},"17":{"loc":{"start":{"line":139,"column":2},"end":{"line":141,"column":3}},"type":"if","locations":[{"start":{"line":139,"column":2},"end":{"line":141,"column":3}},{"start":{"line":139,"column":2},"end":{"line":141,"column":3}}],"line":139},"18":{"loc":{"start":{"line":143,"column":2},"end":{"line":145,"column":3}},"type":"if","locations":[{"start":{"line":143,"column":2},"end":{"line":145,"column":3}},{"start":{"line":143,"column":2},"end":{"line":145,"column":3}}],"line":143},"19":{"loc":{"start":{"line":147,"column":2},"end":{"line":149,"column":3}},"type":"if","locations":[{"start":{"line":147,"column":2},"end":{"line":149,"column":3}},{"start":{"line":147,"column":2},"end":{"line":149,"column":3}}],"line":147},"20":{"loc":{"start":{"line":151,"column":2},"end":{"line":153,"column":3}},"type":"if","locations":[{"start":{"line":151,"column":2},"end":{"line":153,"column":3}},{"start":{"line":151,"column":2},"end":{"line":153,"column":3}}],"line":151},"21":{"loc":{"start":{"line":158,"column":2},"end":{"line":167,"column":3}},"type":"if","locations":[{"start":{"line":158,"column":2},"end":{"line":167,"column":3}},{"start":{"line":158,"column":2},"end":{"line":167,"column":3}}],"line":158},"22":{"loc":{"start":{"line":158,"column":6},"end":{"line":158,"column":32}},"type":"binary-expr","locations":[{"start":{"line":158,"column":6},"end":{"line":158,"column":17}},{"start":{"line":158,"column":21},"end":{"line":158,"column":32}}],"line":158},"23":{"loc":{"start":{"line":163,"column":16},"end":{"line":163,"column":73}},"type":"cond-expr","locations":[{"start":{"line":163,"column":29},"end":{"line":163,"column":69}},{"start":{"line":163,"column":72},"end":{"line":163,"column":73}}],"line":163},"24":{"loc":{"start":{"line":164,"column":15},"end":{"line":164,"column":70}},"type":"cond-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":66}},{"start":{"line":164,"column":69},"end":{"line":164,"column":70}}],"line":164},"25":{"loc":{"start":{"line":178,"column":16},"end":{"line":178,"column":55}},"type":"binary-expr","locations":[{"start":{"line":178,"column":16},"end":{"line":178,"column":42}},{"start":{"line":178,"column":46},"end":{"line":178,"column":55}}],"line":178},"26":{"loc":{"start":{"line":183,"column":14},"end":{"line":183,"column":45}},"type":"binary-expr","locations":[{"start":{"line":183,"column":14},"end":{"line":183,"column":40}},{"start":{"line":183,"column":44},"end":{"line":183,"column":45}}],"line":183},"27":{"loc":{"start":{"line":218,"column":4},"end":{"line":220,"column":5}},"type":"if","locations":[{"start":{"line":218,"column":4},"end":{"line":220,"column":5}},{"start":{"line":218,"column":4},"end":{"line":220,"column":5}}],"line":218}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":0,"71":1},"f":{"0":4,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{"0":[1,3],"1":[4,4],"2":[1,0],"3":[0,1],"4":[1,0],"5":[1,1],"6":[1,0],"7":[1,1],"8":[1,0],"9":[1,0],"10":[1,0],"11":[1,0],"12":[1,0],"13":[1,0],"14":[1,0],"15":[1,0],"16":[1,0],"17":[1,0],"18":[1,0],"19":[1,0],"20":[1,0],"21":[1,0],"22":[1,1],"23":[1,0],"24":[1,0],"25":[1,0],"26":[1,0],"27":[0,1]},"inputSourceMap":{"version":3,"sources":["profile.js"],"names":["getHTML","platform","region","tag","callback","url","options","uri","encodeURI","encoding","err","res","body","parseHTML","results","$","cheerio","load","isFound","text","Error","parsed","user","level","first","portrait","attr","permission","endorsementLevel","last","endorsementFrameEl","sportsmanshipValue","data","shotcallerValue","teammateValue","quickplayWonEl","next","html","quickplayPlayedEl","quickplayTimePlayedEl","compWonEl","compPlayedEl","compLostEl","compDrawEl","compTimePlayedEl","compRankEl","levelFrameEl","starEl","rankEl","compRankImgTank","compRankImgDamage","compRankImgSupport","compRankElTank","compRankElDamage","compRankElSupport","levelFrame","slice","replace","endorsementFrame","star","rank","transform","endorsement","sportsmanship","value","rate","parseFloat","toFixed","shotcaller","teammate","parseInt","frame","icon","won","lost","draw","played","time","quickplay","trim","competitive","starsMatch","path","basename","split","rankMatch","stars","prestige","json","username","games","undefined","win_rate","playtime","tank","rank_img","damage","support","async","auto","apply"],"mappings":"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","sourceRoot":"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\","sourcesContent":["import path from 'path';\nimport async from 'async';\nimport cheerio from 'cheerio';\nimport request from 'request';\nimport { getPrestigeLevel, getPrestigeStars } from './utils';\nimport { createEndorsementSVG } from './svg';\n\n\n// Get HTML from playoverwatch career page.\nfunction getHTML(platform, region, tag, callback) {\n  const url = platform === 'pc'\n    ? `https://playoverwatch.com/en-us/career/${platform}/${region}/${tag}`\n    : `https://playoverwatch.com/en-us/career/${platform}/${tag}`;\n\n  const options = {\n    uri: encodeURI(url),\n    encoding: 'utf8'\n  }\n\n  return request(options, (err, res, body) => {\n    return callback(err, body);\n  });\n}\n\n// Begin html parsing.\nfunction parseHTML(results, callback) {\n  const $ = cheerio.load(results.getHTML);\n\n  // Check if profile exists.\n  const isFound = $('.content-box h1').text() !== 'Profile Not Found';\n  if (!isFound) {\n    return callback(new Error('Profile not found'));\n  }\n\n  const parsed = {\n    user: $('.header-masthead').text(),\n    level: $('.player-level div').first().text(),\n    portrait: $('.player-portrait').attr('src'),\n    permission: $('.masthead-permission-level-text').text(),\n    endorsementLevel: $('.masthead .endorsement-level div').last().text(),\n    endorsementFrameEl: $('.masthead .EndorsementIcon').attr('style'),\n    sportsmanshipValue: $('.masthead .EndorsementIcon-border--sportsmanship').data('value'),\n    shotcallerValue: $('.masthead .EndorsementIcon-border--shotcaller').data('value'),\n    teammateValue: $('.masthead .EndorsementIcon-border--teammate').data('value'),\n    quickplayWonEl: $('#quickplay td:contains(\"Games Won\")').next().html(),\n    quickplayPlayedEl: $('#quickplay td:contains(\"Games Played\")').next().html(),\n    quickplayTimePlayedEl: $('#quickplay td:contains(\"Time Played\")').next().html(),\n    compWonEl: $('#competitive td:contains(\"Games Won\")').next().html(),\n    compPlayedEl: $('#competitive td:contains(\"Games Played\")').next().html(),\n    compLostEl: $('#competitive td:contains(\"Games Lost\")').next().html(),\n    compDrawEl: $('#competitive td:contains(\"Games Tied\")').next().html(),\n    compTimePlayedEl: $('#competitive td:contains(\"Time Played\")').next().html(),\n    compRankEl: $('.competitive-rank'),\n    levelFrameEl: $('.player-level').attr('style'),\n    starEl: $('.player-rank').attr('style'),\n    rankEl: $('.player-level').attr('style'),\n  }\n\n  if (parsed.compRankEl !== null) {\n    parsed.compRankImgTank = $('.competitive-rank div[data-ow-tooltip-text=\"Tank Skill Rating\"] img').attr('src') || null;\n    parsed.compRankImgDamage = $('.competitive-rank div[data-ow-tooltip-text=\"Damage Skill Rating\"] img').attr('src') || null;\n    parsed.compRankImgSupport = $('.competitive-rank div[data-ow-tooltip-text=\"Support Skill Rating\"] img').attr('src') || null;\n    parsed.compRankElTank = $('.competitive-rank div[data-ow-tooltip-text=\"Tank Skill Rating\"]').next().html();\n    parsed.compRankElDamage = $('.competitive-rank div[data-ow-tooltip-text=\"Damage Skill Rating\"]').next().html();\n    parsed.compRankElSupport = $('.competitive-rank div[data-ow-tooltip-text=\"Support Skill Rating\"]').next().html();\n  }\n\n  if (parsed.levelFrameEl) {\n    parsed.levelFrame = parsed.levelFrameEl.slice(21, -1).replace(/ /g, '');\n  }\n\n  if (parsed.endorsementFrameEl) {\n    parsed.endorsementFrame = parsed.endorsementFrameEl.slice(21, -1).replace(/ /g, '');\n  }\n\n  if (parsed.starEl) {\n    parsed.star = parsed.starEl.slice(21, -1).replace(/ /g, '');\n  }\n\n  if (parsed.rankEl) {\n    parsed.rank = parsed.rankEl.slice(21, -1).replace(/ /g, '');\n  }\n  return callback(null, parsed);\n}\n\n// Transform the data into a json object we can serve.\nfunction transform(results, callback) {\n  const { parseHTML: parsed } = results;\n\n  const endorsement = {\n    sportsmanship: { value: parsed.sportsmanshipValue, rate: parseFloat((parsed.sportsmanshipValue * 100).toFixed(2)) },\n    shotcaller: { value: parsed.shotcallerValue, rate: parseFloat((parsed.shotcallerValue * 100).toFixed(2)) },\n    teammate: { value: parsed.teammateValue, rate: parseFloat((parsed.teammateValue * 100).toFixed(2)) },\n    level: parseInt(parsed.endorsementLevel),\n    frame: parsed.endorsementFrame || null,\n  };\n  endorsement.icon = createEndorsementSVG(endorsement);\n\n  const won = {};\n  const lost = {};\n  const draw = {};\n  const played = {};\n  const time = {};\n\n  if (parsed.quickplayWonEl !== null) {\n    won.quickplay = parsed.quickplayWonEl.trim().replace(/,/g, '');\n  }\n\n  if (parsed.quickplayPlayedEl !== null) {\n    played.quickplay = parsed.quickplayPlayedEl.trim().replace(/,/g, '');\n  }\n\n  if (parsed.quickplayTimePlayedEl !== null) {\n    time.quickplay = parsed.quickplayTimePlayedEl.trim().replace(/,/g, '');\n  }\n\n  if (parsed.compWonEl !== null) {\n    won.competitive = parsed.compWonEl.trim().replace(/,/g, '');\n  }\n\n  if (parsed.compLostEl !== null) {\n    lost.competitive = parsed.compLostEl.trim().replace(/,/g, '');\n  }\n\n  if (parsed.compDrawEl !== null) {\n    draw.competitive = parsed.compDrawEl.trim().replace(/,/g, '');\n  }\n\n  if (parsed.compPlayedEl !== null) {\n    played.competitive = parsed.compPlayedEl.trim().replace(/,/g, '');\n  }\n\n  if (parsed.compTimePlayedEl !== null) {\n    time.competitive = parsed.compTimePlayedEl.trim().replace(/,/g, '');\n  }\n\n  // Calculate the prestige level.\n  let level = parsed.level;\n  if (parsed.star && parsed.rank) {\n    const starsMatch = path.basename(parsed.star).split('.').slice(0, -1)[0];\n    const rankMatch = path.basename(parsed.rank).split('.').slice(0, -1)[0];\n    const stars = starsMatch ? getPrestigeStars(starsMatch) : 0;\n    const rank = rankMatch ? getPrestigeLevel(rankMatch) : 0;\n    const prestige = parseInt(stars) + parseInt(rank);\n    level = parseInt(parsed.level) + (parseInt(prestige) * 100);\n  }\n\n  const json = {\n    username: parsed.user,\n    level: parseInt(level),\n    portrait: parsed.portrait,\n    endorsement: endorsement,\n    private: parsed.permission === 'Private Profile',\n    games: {\n      quickplay: {\n        won: parseInt(won.quickplay),\n        played: parseInt(played.quickplay) || undefined \n      },\n      competitive: {\n        won: parseInt(won.competitive),\n        lost: parseInt(lost.competitive),\n        draw: parseInt(draw.competitive) || 0,\n        played: parseInt(played.competitive),\n        win_rate: parseFloat((parseInt(won.competitive) / (parseInt(played.competitive - parseInt(draw.competitive))) * 100).toFixed(2)),\n      },\n    },\n    playtime: { quickplay: time.quickplay, competitive: time.competitive },\n    competitive: { \n      tank: {\n        rank: parseInt(parsed.compRankElTank), \n        rank_img: parsed.compRankImgTank \n      },\n      damage: {\n        rank: parseInt(parsed.compRankElDamage), \n        rank_img: parsed.compRankImgDamage\n      },\n      support: {\n        rank: parseInt(parsed.compRankElSupport), \n        rank_img: parsed.compRankImgSupport\n      }\n    },\n    levelFrame: parsed.levelFrame,\n    star: parsed.star\n  }\n\n  return callback(null, json);\n}\n\nexport default function(platform, region, tag, callback) {\n  async.auto({\n    getHTML: async.apply(getHTML, platform, region, tag),\n    parseHTML: ['getHTML', async.apply(parseHTML)],\n    transform: ['getHTML', 'parseHTML', async.apply(transform)],\n  }, function(err, results) {\n    if (err) {\n      return callback(err);\n    }\n    return callback(null, results.transform);\n  });\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"da6cfd0587a84fbe80b10f3d1f818ada2208afd7","contentHash":"c7cdc5d2dba43ef828c7b7bd6a9821d459c38110778de4b35dddba0a1702e73c"},"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\utils.js":{"path":"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\utils.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}},"3":{"start":{"line":9,"column":21},"end":{"line":110,"column":1}},"4":{"start":{"line":111,"column":20},"end":{"line":152,"column":1}},"5":{"start":{"line":155,"column":2},"end":{"line":157,"column":3}},"6":{"start":{"line":156,"column":4},"end":{"line":156,"column":31}},"7":{"start":{"line":159,"column":2},"end":{"line":159,"column":11}},"8":{"start":{"line":163,"column":2},"end":{"line":165,"column":3}},"9":{"start":{"line":164,"column":4},"end":{"line":164,"column":30}},"10":{"start":{"line":167,"column":2},"end":{"line":167,"column":11}}},"fnMap":{"0":{"name":"getPrestigeLevel","decl":{"start":{"line":154,"column":9},"end":{"line":154,"column":25}},"loc":{"start":{"line":154,"column":31},"end":{"line":160,"column":1}},"line":154},"1":{"name":"getPrestigeStars","decl":{"start":{"line":162,"column":9},"end":{"line":162,"column":25}},"loc":{"start":{"line":162,"column":31},"end":{"line":168,"column":1}},"line":162}},"branchMap":{"0":{"loc":{"start":{"line":155,"column":2},"end":{"line":157,"column":3}},"type":"if","locations":[{"start":{"line":155,"column":2},"end":{"line":157,"column":3}},{"start":{"line":155,"column":2},"end":{"line":157,"column":3}}],"line":155},"1":{"loc":{"start":{"line":163,"column":2},"end":{"line":165,"column":3}},"type":"if","locations":[{"start":{"line":163,"column":2},"end":{"line":165,"column":3}},{"start":{"line":163,"column":2},"end":{"line":165,"column":3}}],"line":163}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":0},"f":{"0":1,"1":1},"b":{"0":[1,0],"1":[1,0]},"inputSourceMap":{"version":3,"sources":["utils.js"],"names":["prestigeLevels","prestigeStars","getPrestigeLevel","val","getPrestigeStars"],"mappings":"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","sourceRoot":"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\","sourcesContent":["// Credit to @relaera on https://github.com/Fuyukai/OWAPI/pull/270 for this data.\nconst prestigeLevels = {\n  \"1055f5ae3a84b7bd8afa9fcbd2baaf9a412c63e8fe5411025b3264db12927771\": 0,  // Bronze Lv 1\n  \"69c2c1aff0db8429a980bad7db76a3388003e43f0034097dc4cfa7f13c5de7d7\": 0,  // Bronze Lv 11\n  \"4d63c2aadf536e87c84bdb7157c7b688cffb286e17a5362d2fa5c5281f4fc2a2\": 0,  // Bronze Lv 21\n  \"78ebb45dd26b0050404305fdc1cb9ddc311d2c7e62400fd6348a3a488c69eee7\": 0,  // Bronze Lv 31\n  \"888c84f2dfd211cde0c595036574040ca96b1698578daab90ce6822d89f7fe0e\": 0,  // Bronze Lv 41\n  \"3fdfdd16c34ab7cdc9b7be3c04197e900928b368285ce639c1d3e1c0619eea6d\": 0,  // Bronze Lv 51\n  \"e8b7df4b88998380658d49d00e7bc483c740432ac417218e94fab4137bec4ae0\": 0,  // Bronze Lv 61\n  \"45cc69ca29f3981fa085b5337d2303a4eb555853daae1c29351b7ba46b27bbcd\": 0,  // Bronze Lv 71\n  \"8b4be1017beff0bcd1f7a48d8cdf7faf9f22c1ffd2bdeaaff2684da5cddeaa76\": 0,  // Bronze Lv 81\n  \"1b00b8cab530e98c378de2f3e8834d92ee41b4cd7b118179a8ecbccee83c8104\": 0,  // Bronze Lv 91\n\n  \"f5d80c8b7370cda9a491bdf89e02bcd8c6ba1708189d907c7e4f55a719030264\": 6,  // Silver Lv 1\n  \"ddb6f3f79241b8af2fa77b52910f60a2332db5d8347b3039d1328ae6d1272a59\": 6,  // Silver Lv 11\n  \"c59072a340e6187116f5ae7456674dd6e1cba4b15781922d63fb94f56d9539c0\": 6,  // Silver Lv 21\n  \"624461e537900ce98e3178d1a298cba4830c14f6a81a8b36319da6273bed255a\": 6,  // Silver Lv 31\n  \"ba68d2c0f1b55e1991161cb1f88f369b97311452564b200ea1da226eb493e2e8\": 6,  // Silver Lv 41\n  \"3c078f588353feeb3f52b0198fade12a78573a01c53050aca890969a395ff66a\": 6,  // Silver Lv 51\n  \"f9bc9c6bb95f07f4e882b9e003ba7fa5ca6552fb8e0c27473a8b031714670116\": 6,  // Silver Lv 61\n  \"8aa9f56cdd250579dd8b0ce6bd835934fffe8c27b9ce609f046c19a4a81591f8\": 6,  // Silver Lv 71\n  \"32f84a58719318fa0aeee530ed3240952ba9945b998cd9e8150ebb583db0d4f6\": 6,  // Silver Lv 81\n  \"c95fa44c02a1eae89a7c8d503026f181f1cc565da93d47c6254fab2c3d8793ef\": 6,  // Silver Lv 91\n\n  \"5ab5c29e0e1e33f338ae9afc37f51917b151016aef42d10d361baac3e0965df1\": 12,  // Gold Lv 1\n  \"7fd73e680007054dbb8ac5ea8757a565858b9d7dba19f389228101bda18f36b0\": 12,  // Gold Lv 11\n  \"0ada1b8721830853d3fbcfabf616e1841f2100279cff15b386093f69cc6c09ad\": 12,  // Gold Lv 21\n  \"7095ee84fc0a3aaac172120ffe0daa0d9abca33112e878cd863cd925cd8404b6\": 12,  // Gold Lv 31\n  \"fa410247dd3f5b7bf2eb1a65583f3b0a3c8800bcd6b512ab1c1c4d9dd81675ae\": 12,  // Gold Lv 41\n  \"a938ef37b673a240c4ade00d5a95f330b1e1ba93da9f0d3754bdb8a77bbbd7a1\": 12,  // Gold Lv 51\n  \"49afee29dc05547ceebe6c1f61a54f7105a0e1b7f2c8509ff2b4aeaf4d384c8e\": 12,  // Gold Lv 61\n  \"2c1464fb96d38839281c0bdb6e1a0cd06769782a5130609c13f6ca76fa358bcf\": 12,  // Gold Lv 71\n  \"98f6eea1a2a10576251d6c690c13d52aaac19b06811ed2b684b43e7a9318f622\": 12,  // Gold Lv 81\n  \"6e1036eab98de41694d785e076c32dbabe66962d38325117436b31210b003ad4\": 12,  // Gold Lv 91\n\n  \"69fde7abebb0bb5aa870e62362e84984cae13e441aec931a5e2c9dc5d22a56dc\": 18,  // Platinum Lv 1\n  \"9c84055f9d91a297ccd1bac163c144e52bcce981dc385ff9e2957c5bd4433452\": 18,  // Platinum Lv 11\n  \"97c803711cddc691bc458ec83dec73c570b0cc07219632c274bb5c5534786984\": 18,  // Platinum Lv 21\n  \"c562ec882ababf2030e40ad3ce27e38176899f732166a1b335fd8f83735261f3\": 18,  // Platinum Lv 31\n  \"da2cb4ab3281329c367cea51f9438c3d20d29ee07f55fa65762481777663f7f9\": 18,  // Platinum Lv 41\n  \"460670e4d61b9bf0bcde6d93a52e50f01541177a20aaf69bbda91fe4353ed2b0\": 18,  // Platinum Lv 51\n  \"5a019024b384de73f4348ed981ae58ec458a7ae6db68e0c44cda4d7062521b04\": 18,  // Platinum Lv 61\n  \"1d5a458ecaf00fe0ef494b4159412d30a4b58ee76b9f0ff44b1db14ed211273c\": 18,  // Platinum Lv 71\n  \"f1d43d87bbe5868cb99062ac02099001dd9f8215831347d8978e895468e81ef6\": 18,  // Platinum Lv 81\n  \"27b2d05f97179aae72c8f72b69978777e1c5022f77e84f28e5943be8e9cd1d49\": 18,  // Platinum Lv 91\n\n  \"5c83959aa079f9ed9fd633411289920568e616c5117b2a7bb280dd8c857f8406\": 24,  // Diamond Lv 1\n  \"ac14208753baf77110880020450fa4aa0121df0c344c32a2d20f77c18ba75db5\": 24,  // Diamond Lv 11\n  \"a42bcb3339e1b3c999fc2799b0787fd862e163ec504d7541fa3ea8893b83957a\": 24,  // Diamond Lv 21\n  \"7f1cc30ed6981974b6950666bb8236a6aa7b5a8579b14969394212dd7fa2951d\": 24,  // Diamond Lv 31\n  \"efe3ab1c85c6266199ac7539566d4c811b0ee17bc5fb3e3e7a48e9bc2473cf50\": 24,  // Diamond Lv 41\n  \"c7b9df20c91b10dc25bfdc847d069318ed9e8e69c5cad760803470caa9576e48\": 24,  // Diamond Lv 51\n  \"413bdc1e11f9b190ed2c6257a9f7ea021fd9fcef577d50efcf30a5ea8df989a4\": 24,  // Diamond Lv 61\n  \"625645c3c9af49eb315b504dba32137bb4081d348ec5b9750196b0ec0c9bb6a6\": 24,  // Diamond Lv 71\n  \"f9813603e19350bb6d458bbee3c8c2a177b6503e6ff54868e8d176fa424a0191\": 24,  // Diamond Lv 81\n  \"9e8600f97ea4a84d822d8b336f2b1dbfe7372fb9f2b6bf1d0336193567f6f943\": 24,  // Diamond Lv 91 / Max\n}\n\nconst prestigeStars = {\n    \"8de2fe5d938256a5725abe4b3655ee5e9067b7a1f4d5ff637d974eb9c2e4a1ea\": 1,  // 1 Bronze star\n    \"755825d4a6768a22de17b48cfbe66ad85a54310ba5a8f8ab1e9c9a606b389354\": 2,  // 2 Bronze stars\n    \"4a2c852a16043f613b7bfac33c8536dd9f9621a3d567174cb4ad9a80e3b13102\": 3,  // 3 Bronze stars\n    \"bc80149bbd78d2f940984712485bce23ddaa6f2bd0edd1c0494464ef55251eef\": 4,  // 4 Bronze stars\n    \"d35d380b7594b8f6af2d01040d80a5bfb6621553406c0905d4764bdc92a4ede8\": 5,  // 5 Bronze stars\n\n    \"426c754c76cd12e6aacd30293a67363571341eea37880df549d3e02015a588fe\": 1,  // 1 Silver star\n    \"c137dd97008328ed94efc5a9ec446e024c9ac92fce89fa5b825c5b1d7ff8d807\": 2,  // 2 Silver stars\n    \"9a7c57aee22733a47c2b562000861d687d0423a74eb5e609c425f10db5528ed9\": 3,  // 3 Silver stars\n    \"b944cf1de6653b629c951fd14583069bc91b1f1b7efdb171203448b2dbc39917\": 4,  // 4 Silver stars\n    \"9b838b75065248ec14360723e4caf523239128ff8c13bda36cfd0b59ef501c1e\": 5,  // 5 Silver stars\n\n    \"1858704e180db3578839aefdb83b89054f380fbb3d4c46b3ee12d34ed8af8712\": 1,  // 1 Gold/Platinum star\n    \"e8568b9f9f5cac7016955f57c7b192ccd70f7b38504c7849efa8b1e3f7a1b077\": 2,  // 2 Gold/Platinum stars\n    \"a25388825a0e00c946a23f5dd74c5b63f77f564231e0fd01e42ff2d1c9f10d38\": 3,  // 3 Gold/Platinum stars\n    \"cff520765f143c521b25ad19e560abde9a90eeae79890b14146a60753d7baff8\": 4,  // 4 Gold/Platinum stars\n    \"35fd7b9b98f57389c43e5a8e7ca989ca593c9f530985adf4670845bb598e1a9d\": 5,  // 5 Gold/Platinum stars\n\n    \"8033fa55e3de5e7655cd694340870da851cdef348d7dcb76411f3a9c2c93002c\": 1,  // 1 Diamond star\n    \"605c201cf3f0d24b318f643acb812084ff284e660f2bb5d62b487847d33fad29\": 2,  // 2 Diamond stars\n    \"1c8c752d0f2757dc0bcc9e3db76f81c3802c874164a3b661475e1c7bd67c571f\": 3,  // 3 Diamond stars\n    \"58b1323ab2eb1298fa6be649a8d4d7f0e623523bd01964ed8fefd5175d9073c0\": 4,  // 4 Diamond stars\n    \"cd877430ccc400c10e24507dba972e24a4543edc05628045300f1349cf003f3a\": 5,  // 5 Diamond stars\n}\n\nexport function getPrestigeLevel(val) {\n    if (prestigeLevels[val]) {\n        return prestigeLevels[val];\n    }\n    return 0;\n}\n\nexport function getPrestigeStars(val) {\n    if (prestigeStars[val]) {\n        return prestigeStars[val];\n    }\n    return 0;\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"56bb7ce1ef090c174f33d60e6db93aad334cb61d","contentHash":"a22a108521dd554e4f73ced66d35fbbb3fa6c8f8b2152291ff2429cb60acbc33"},"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\svg.js":{"path":"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\svg.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":52}},"2":{"start":{"line":8,"column":17},"end":{"line":8,"column":39}},"3":{"start":{"line":10,"column":16},"end":{"line":18,"column":1}},"4":{"start":{"line":19,"column":13},"end":{"line":26,"column":1}},"5":{"start":{"line":29,"column":26},"end":{"line":29,"column":65}},"6":{"start":{"line":30,"column":23},"end":{"line":30,"column":59}},"7":{"start":{"line":31,"column":21},"end":{"line":31,"column":55}},"8":{"start":{"line":32,"column":2},"end":{"line":48,"column":4}},"9":{"start":{"line":53,"column":12},"end":{"line":53,"column":36}},"10":{"start":{"line":54,"column":2},"end":{"line":54,"column":27}},"11":{"start":{"line":56,"column":2},"end":{"line":65,"column":5}},"12":{"start":{"line":67,"column":2},"end":{"line":76,"column":5}},"13":{"start":{"line":78,"column":2},"end":{"line":87,"column":5}},"14":{"start":{"line":89,"column":2},"end":{"line":100,"column":28}},"15":{"start":{"line":102,"column":12},"end":{"line":102,"column":60}},"16":{"start":{"line":103,"column":2},"end":{"line":103,"column":50}},"17":{"start":{"line":107,"column":16},"end":{"line":107,"column":43}},"18":{"start":{"line":108,"column":12},"end":{"line":108,"column":29}},"19":{"start":{"line":109,"column":2},"end":{"line":109,"column":13}}},"fnMap":{"0":{"name":"getSVGData","decl":{"start":{"line":28,"column":9},"end":{"line":28,"column":19}},"loc":{"start":{"line":28,"column":37},"end":{"line":49,"column":1}},"line":28},"1":{"name":"buildSVG","decl":{"start":{"line":52,"column":9},"end":{"line":52,"column":17}},"loc":{"start":{"line":52,"column":24},"end":{"line":104,"column":1}},"line":52},"2":{"name":"createEndorsementSVG","decl":{"start":{"line":106,"column":9},"end":{"line":106,"column":29}},"loc":{"start":{"line":106,"column":47},"end":{"line":110,"column":1}},"line":106}},"branchMap":{"0":{"loc":{"start":{"line":29,"column":26},"end":{"line":29,"column":65}},"type":"binary-expr","locations":[{"start":{"line":29,"column":26},"end":{"line":29,"column":60}},{"start":{"line":29,"column":64},"end":{"line":29,"column":65}}],"line":29},"1":{"loc":{"start":{"line":30,"column":23},"end":{"line":30,"column":59}},"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":54}},{"start":{"line":30,"column":58},"end":{"line":30,"column":59}}],"line":30},"2":{"loc":{"start":{"line":31,"column":21},"end":{"line":31,"column":55}},"type":"binary-expr","locations":[{"start":{"line":31,"column":21},"end":{"line":31,"column":50}},{"start":{"line":31,"column":54},"end":{"line":31,"column":55}}],"line":31}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1,0],"1":[1,0],"2":[1,0]},"inputSourceMap":{"version":3,"sources":["svg.js"],"names":["svgBuilder","require","Constants","r","width","height","offset","strokeWidth","cx","cy","Colors","gray","orange","magenta","green","white","transparent","getSVGData","endorsementsObj","sportsmanshipRate","sportsmanship","rate","shotcallerRate","shotcaller","teammateRate","teammate","level","dasharray","Math","round","dashoffset","buildSVG","data","svg","newInstance","circle","fill","stroke","text","x","y","dy","b64","Buffer","from","render","toString","createEndorsementSVG","svgData"],"mappings":"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","sourceRoot":"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\","sourcesContent":["const svgBuilder = require('svg-builder');\r\n\r\nconst Constants = {\r\n  r: 15.91549430918954,\r\n  width: 40,\r\n  height: 40,\r\n  offset: 25,\r\n  strokeWidth: 3,\r\n  cx: '50%',\r\n  cy: '50%',\r\n};\r\n\r\nconst Colors = {\r\n  gray: '#2a2b2e',\r\n  orange: '#f19512',\r\n  magenta: '#c81af5',\r\n  green: '#40ce44',\r\n  white: '#f6f6f6',\r\n  transparent: 'transparent',\r\n};\r\n\r\n// Builds data to be used by the svg-builder in svg.buildSVG.\r\nfunction getSVGData(endorsementsObj) {\r\n  const sportsmanshipRate = endorsementsObj.sportsmanship.rate || 0;\r\n  const shotcallerRate = endorsementsObj.shotcaller.rate || 0;\r\n  const teammateRate = endorsementsObj.teammate.rate || 0;\r\n\r\n  return {\r\n    level: endorsementsObj.level,\r\n    shotcaller: {\r\n      dasharray: `${Math.round(shotcallerRate)} ${Math.round(100 - shotcallerRate)}`,\r\n      dashoffset: 25, // Start offset at 12 o'clock.\r\n    },\r\n    teammate: {\r\n      dasharray: `${Math.round(teammateRate)} ${Math.round(100 - teammateRate)}`,\r\n      dashoffset: 100 - Math.round(shotcallerRate) + 25, // Bump offset. \r\n    },\r\n    sportsmanship: {\r\n      dasharray: `${Math.round(sportsmanshipRate)} ${Math.round(100 - sportsmanshipRate)}`,\r\n      dashoffset: 100 - Math.round(shotcallerRate + teammateRate) + 25,\r\n    }\r\n  }\r\n}\r\n\r\n// Builds the SVG endorements icon using data from svg.getSVGData.\r\nfunction buildSVG(data) {\r\n  const svg = svgBuilder.newInstance()\r\n  svg.width(40).height(40);\r\n\r\n  // Shot caller circle.\r\n  svg.circle({\r\n    r: Constants.r,\r\n    fill: Colors.gray,\r\n    'stroke-dasharray': data.shotcaller.dasharray,\r\n    'stroke-dashoffset': data.shotcaller.dashoffset,\r\n    'stroke-width': Constants.strokeWidth, \r\n    stroke: Colors.orange,\r\n    cx: Constants.cx,\r\n    cy: Constants.cy,\r\n  });\r\n\r\n  // Teammate circle.\r\n  svg.circle({\r\n    r: Constants.r,\r\n    fill: Colors.transparent,\r\n    'stroke-dasharray': data.teammate.dasharray,\r\n    'stroke-dashoffset': data.teammate.dashoffset,\r\n    'stroke-width': Constants.strokeWidth, \r\n    stroke: Colors.magenta,\r\n    cx: Constants.cx,\r\n    cy: Constants.cy,\r\n  });\r\n\r\n  // Sportsmanship circle.\r\n  svg.circle({\r\n    r: Constants.r,\r\n    fill: Colors.transparent,\r\n    'stroke-dasharray': data.sportsmanship.dasharray,\r\n    'stroke-dashoffset': data.sportsmanship.dashoffset,\r\n    'stroke-width': Constants.strokeWidth, \r\n    stroke: Colors.green,\r\n    cx: Constants.cx,\r\n    cy: Constants.cy,\r\n  });\r\n\r\n  // Centered text with endorsement level.\r\n  svg.text({\r\n    x: '50%',\r\n    y: '50%',\r\n    dy: '.3em',\r\n    'font-family': 'century gothic,arial,sans-serif',\r\n    'font-weight': 300,\r\n    'font-size': 16,\r\n    stroke: Colors.white,\r\n    'stroke-width': '1',\r\n    fill: Colors.white,\r\n    'text-anchor': 'middle',\r\n  }, `${data.level}`);\r\n\r\n  // Output SVG as a base64 encoded data URI.\r\n  const b64 = new Buffer.from(svg.render()).toString('base64');\r\n  return `data:image/svg+xml;base64,${b64}`;\r\n}\r\n\r\nexport function createEndorsementSVG(endorsementsObj) {\r\n  const svgData = getSVGData(endorsementsObj);\r\n  const svg = buildSVG(svgData);\r\n  return svg;\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"93354193be207b9da27363e43ed201f30b45b4a7","contentHash":"d1f3422ffb796e61cbdfc8608a49456baae1262c98dd1ce7dd9cf14c3e473bed"},"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\stats.js":{"path":"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\stats.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":51}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":53}},"4":{"start":{"line":12,"column":15},"end":{"line":12,"column":57}},"5":{"start":{"line":14,"column":15},"end":{"line":14,"column":57}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":31}},"7":{"start":{"line":18,"column":11},"end":{"line":18,"column":27}},"8":{"start":{"line":20,"column":39},"end":{"line":20,"column":95}},"9":{"start":{"line":24,"column":12},"end":{"line":24,"column":205}},"10":{"start":{"line":25,"column":16},"end":{"line":28,"column":3}},"11":{"start":{"line":29,"column":2},"end":{"line":31,"column":5}},"12":{"start":{"line":30,"column":4},"end":{"line":30,"column":31}},"13":{"start":{"line":36,"column":10},"end":{"line":36,"column":51}},"14":{"start":{"line":39,"column":16},"end":{"line":39,"column":67}},"15":{"start":{"line":41,"column":2},"end":{"line":43,"column":3}},"16":{"start":{"line":42,"column":4},"end":{"line":42,"column":52}},"17":{"start":{"line":45,"column":15},"end":{"line":57,"column":3}},"18":{"start":{"line":59,"column":2},"end":{"line":61,"column":3}},"19":{"start":{"line":60,"column":4},"end":{"line":60,"column":108}},"20":{"start":{"line":63,"column":2},"end":{"line":65,"column":3}},"21":{"start":{"line":64,"column":4},"end":{"line":64,"column":96}},"22":{"start":{"line":67,"column":2},"end":{"line":69,"column":3}},"23":{"start":{"line":68,"column":4},"end":{"line":68,"column":83}},"24":{"start":{"line":71,"column":14},"end":{"line":71,"column":16}},"25":{"start":{"line":73,"column":26},"end":{"line":91,"column":3}},"26":{"start":{"line":93,"column":2},"end":{"line":95,"column":4}},"27":{"start":{"line":96,"column":2},"end":{"line":107,"column":5}},"28":{"start":{"line":97,"column":23},"end":{"line":97,"column":137}},"29":{"start":{"line":98,"column":20},"end":{"line":98,"column":22}},"30":{"start":{"line":99,"column":4},"end":{"line":105,"column":7}},"31":{"start":{"line":100,"column":17},"end":{"line":100,"column":19}},"32":{"start":{"line":101,"column":6},"end":{"line":101,"column":60}},"33":{"start":{"line":102,"column":6},"end":{"line":102,"column":64}},"34":{"start":{"line":103,"column":6},"end":{"line":103,"column":64}},"35":{"start":{"line":104,"column":6},"end":{"line":104,"column":27}},"36":{"start":{"line":106,"column":4},"end":{"line":106,"column":52}},"37":{"start":{"line":109,"column":2},"end":{"line":109,"column":42}},"38":{"start":{"line":110,"column":2},"end":{"line":121,"column":5}},"39":{"start":{"line":111,"column":23},"end":{"line":111,"column":141}},"40":{"start":{"line":112,"column":20},"end":{"line":112,"column":22}},"41":{"start":{"line":113,"column":4},"end":{"line":119,"column":7}},"42":{"start":{"line":114,"column":17},"end":{"line":114,"column":19}},"43":{"start":{"line":115,"column":6},"end":{"line":115,"column":60}},"44":{"start":{"line":116,"column":6},"end":{"line":116,"column":64}},"45":{"start":{"line":117,"column":6},"end":{"line":117,"column":64}},"46":{"start":{"line":118,"column":6},"end":{"line":118,"column":27}},"47":{"start":{"line":120,"column":4},"end":{"line":120,"column":54}},"48":{"start":{"line":125,"column":23},"end":{"line":125,"column":104}},"49":{"start":{"line":127,"column":2},"end":{"line":141,"column":5}},"50":{"start":{"line":128,"column":14},"end":{"line":128,"column":140}},"51":{"start":{"line":129,"column":19},"end":{"line":129,"column":21}},"52":{"start":{"line":130,"column":4},"end":{"line":135,"column":7}},"53":{"start":{"line":131,"column":17},"end":{"line":131,"column":19}},"54":{"start":{"line":132,"column":6},"end":{"line":132,"column":53}},"55":{"start":{"line":133,"column":6},"end":{"line":133,"column":52}},"56":{"start":{"line":134,"column":6},"end":{"line":134,"column":26}},"57":{"start":{"line":136,"column":4},"end":{"line":136,"column":48}},"58":{"start":{"line":137,"column":4},"end":{"line":139,"column":6}},"59":{"start":{"line":140,"column":4},"end":{"line":140,"column":40}},"60":{"start":{"line":143,"column":2},"end":{"line":155,"column":5}},"61":{"start":{"line":144,"column":14},"end":{"line":144,"column":142}},"62":{"start":{"line":145,"column":19},"end":{"line":145,"column":21}},"63":{"start":{"line":146,"column":4},"end":{"line":151,"column":7}},"64":{"start":{"line":147,"column":17},"end":{"line":147,"column":19}},"65":{"start":{"line":148,"column":6},"end":{"line":148,"column":53}},"66":{"start":{"line":149,"column":6},"end":{"line":149,"column":52}},"67":{"start":{"line":150,"column":6},"end":{"line":150,"column":26}},"68":{"start":{"line":152,"column":4},"end":{"line":152,"column":48}},"69":{"start":{"line":153,"column":4},"end":{"line":153,"column":36}},"70":{"start":{"line":154,"column":4},"end":{"line":154,"column":42}},"71":{"start":{"line":156,"column":2},"end":{"line":159,"column":5}},"72":{"start":{"line":164,"column":18},"end":{"line":164,"column":35}},"73":{"start":{"line":165,"column":14},"end":{"line":165,"column":29}},"74":{"start":{"line":166,"column":15},"end":{"line":166,"column":31}},"75":{"start":{"line":167,"column":20},"end":{"line":182,"column":3}},"76":{"start":{"line":183,"column":2},"end":{"line":183,"column":65}},"77":{"start":{"line":185,"column":14},"end":{"line":185,"column":26}},"78":{"start":{"line":187,"column":2},"end":{"line":196,"column":3}},"79":{"start":{"line":188,"column":21},"end":{"line":188,"column":86}},"80":{"start":{"line":190,"column":20},"end":{"line":190,"column":85}},"81":{"start":{"line":192,"column":16},"end":{"line":192,"column":73}},"82":{"start":{"line":193,"column":15},"end":{"line":193,"column":70}},"83":{"start":{"line":194,"column":19},"end":{"line":194,"column":51}},"84":{"start":{"line":195,"column":4},"end":{"line":195,"column":62}},"85":{"start":{"line":198,"column":13},"end":{"line":205,"column":3}},"86":{"start":{"line":206,"column":2},"end":{"line":206,"column":30}},"87":{"start":{"line":210,"column":2},"end":{"line":220,"column":5}},"88":{"start":{"line":215,"column":4},"end":{"line":217,"column":5}},"89":{"start":{"line":216,"column":6},"end":{"line":216,"column":27}},"90":{"start":{"line":219,"column":4},"end":{"line":219,"column":45}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":20,"column":9},"end":{"line":20,"column":31}},"loc":{"start":{"line":20,"column":37},"end":{"line":20,"column":97}},"line":20},"1":{"name":"getHTML","decl":{"start":{"line":23,"column":9},"end":{"line":23,"column":16}},"loc":{"start":{"line":23,"column":50},"end":{"line":32,"column":1}},"line":23},"2":{"name":"(anonymous_2)","decl":{"start":{"line":29,"column":43},"end":{"line":29,"column":44}},"loc":{"start":{"line":29,"column":69},"end":{"line":31,"column":3}},"line":29},"3":{"name":"parseHTML","decl":{"start":{"line":35,"column":9},"end":{"line":35,"column":18}},"loc":{"start":{"line":35,"column":38},"end":{"line":160,"column":1}},"line":35},"4":{"name":"(anonymous_4)","decl":{"start":{"line":96,"column":51},"end":{"line":96,"column":52}},"loc":{"start":{"line":96,"column":64},"end":{"line":107,"column":3}},"line":96},"5":{"name":"(anonymous_5)","decl":{"start":{"line":99,"column":22},"end":{"line":99,"column":23}},"loc":{"start":{"line":99,"column":39},"end":{"line":105,"column":5}},"line":99},"6":{"name":"(anonymous_6)","decl":{"start":{"line":110,"column":53},"end":{"line":110,"column":54}},"loc":{"start":{"line":110,"column":66},"end":{"line":121,"column":3}},"line":110},"7":{"name":"(anonymous_7)","decl":{"start":{"line":113,"column":22},"end":{"line":113,"column":23}},"loc":{"start":{"line":113,"column":39},"end":{"line":119,"column":5}},"line":113},"8":{"name":"(anonymous_8)","decl":{"start":{"line":127,"column":25},"end":{"line":127,"column":26}},"loc":{"start":{"line":127,"column":41},"end":{"line":141,"column":3}},"line":127},"9":{"name":"(anonymous_9)","decl":{"start":{"line":130,"column":13},"end":{"line":130,"column":14}},"loc":{"start":{"line":130,"column":30},"end":{"line":135,"column":5}},"line":130},"10":{"name":"(anonymous_10)","decl":{"start":{"line":143,"column":25},"end":{"line":143,"column":26}},"loc":{"start":{"line":143,"column":41},"end":{"line":155,"column":3}},"line":143},"11":{"name":"(anonymous_11)","decl":{"start":{"line":146,"column":13},"end":{"line":146,"column":14}},"loc":{"start":{"line":146,"column":30},"end":{"line":151,"column":5}},"line":146},"12":{"name":"transform","decl":{"start":{"line":163,"column":9},"end":{"line":163,"column":18}},"loc":{"start":{"line":163,"column":38},"end":{"line":207,"column":1}},"line":163},"13":{"name":"_default","decl":{"start":{"line":209,"column":9},"end":{"line":209,"column":17}},"loc":{"start":{"line":209,"column":51},"end":{"line":221,"column":1}},"line":209},"14":{"name":"(anonymous_14)","decl":{"start":{"line":214,"column":5},"end":{"line":214,"column":6}},"loc":{"start":{"line":214,"column":29},"end":{"line":220,"column":3}},"line":214}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":94}},"type":"cond-expr","locations":[{"start":{"line":20,"column":70},"end":{"line":20,"column":73}},{"start":{"line":20,"column":76},"end":{"line":20,"column":94}}],"line":20},"1":{"loc":{"start":{"line":20,"column":46},"end":{"line":20,"column":67}},"type":"binary-expr","locations":[{"start":{"line":20,"column":46},"end":{"line":20,"column":49}},{"start":{"line":20,"column":53},"end":{"line":20,"column":67}}],"line":20},"2":{"loc":{"start":{"line":24,"column":12},"end":{"line":24,"column":205}},"type":"cond-expr","locations":[{"start":{"line":24,"column":32},"end":{"line":24,"column":127}},{"start":{"line":24,"column":130},"end":{"line":24,"column":205}}],"line":24},"3":{"loc":{"start":{"line":41,"column":2},"end":{"line":43,"column":3}},"type":"if","locations":[{"start":{"line":41,"column":2},"end":{"line":43,"column":3}},{"start":{"line":41,"column":2},"end":{"line":43,"column":3}}],"line":41},"4":{"loc":{"start":{"line":59,"column":2},"end":{"line":61,"column":3}},"type":"if","locations":[{"start":{"line":59,"column":2},"end":{"line":61,"column":3}},{"start":{"line":59,"column":2},"end":{"line":61,"column":3}}],"line":59},"5":{"loc":{"start":{"line":63,"column":2},"end":{"line":65,"column":3}},"type":"if","locations":[{"start":{"line":63,"column":2},"end":{"line":65,"column":3}},{"start":{"line":63,"column":2},"end":{"line":65,"column":3}}],"line":63},"6":{"loc":{"start":{"line":67,"column":2},"end":{"line":69,"column":3}},"type":"if","locations":[{"start":{"line":67,"column":2},"end":{"line":69,"column":3}},{"start":{"line":67,"column":2},"end":{"line":69,"column":3}}],"line":67},"7":{"loc":{"start":{"line":187,"column":2},"end":{"line":196,"column":3}},"type":"if","locations":[{"start":{"line":187,"column":2},"end":{"line":196,"column":3}},{"start":{"line":187,"column":2},"end":{"line":196,"column":3}}],"line":187},"8":{"loc":{"start":{"line":187,"column":6},"end":{"line":187,"column":32}},"type":"binary-expr","locations":[{"start":{"line":187,"column":6},"end":{"line":187,"column":17}},{"start":{"line":187,"column":21},"end":{"line":187,"column":32}}],"line":187},"9":{"loc":{"start":{"line":192,"column":16},"end":{"line":192,"column":73}},"type":"cond-expr","locations":[{"start":{"line":192,"column":29},"end":{"line":192,"column":69}},{"start":{"line":192,"column":72},"end":{"line":192,"column":73}}],"line":192},"10":{"loc":{"start":{"line":193,"column":15},"end":{"line":193,"column":70}},"type":"cond-expr","locations":[{"start":{"line":193,"column":27},"end":{"line":193,"column":66}},{"start":{"line":193,"column":69},"end":{"line":193,"column":70}}],"line":193},"11":{"loc":{"start":{"line":215,"column":4},"end":{"line":217,"column":5}},"type":"if","locations":[{"start":{"line":215,"column":4},"end":{"line":217,"column":5}},{"start":{"line":215,"column":4},"end":{"line":217,"column":5}}],"line":215}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":4,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0},"f":{"0":4,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{"0":[1,3],"1":[4,4],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"inputSourceMap":{"version":3,"sources":["stats.js"],"names":["getHTML","platform","region","tag","callback","url","options","uri","encodeURI","encoding","err","res","body","parseHTML","results","$","cheerio","load","isFound","text","Error","parsed","user","level","first","portrait","attr","permission","endorsementLevel","last","endorsementFrameEl","sportsmanshipValue","data","shotcallerValue","teammateValue","starEl","html","rankEl","endorsementFrame","slice","replace","star","rank","stats","topHeroCategories","quickplay","competitive","Object","keys","forEach","k","topHeroesEls","find","topHeroes","each","i","el","stat","hero","img","push","statCategories","item","els","closest","statsArr","title","value","next","toLowerCase","transform","endorsement","sportsmanship","rate","parseFloat","toFixed","shotcaller","teammate","parseInt","frame","icon","starsMatch","path","basename","split","rankMatch","stars","prestige","json","username","async","auto","apply"],"mappings":"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","sourceRoot":"C:\\Users\\Alf\\Source\\overwatch-api\\api\\src\\parser\\","sourcesContent":["import path from 'path';\r\nimport async from 'async';\r\nimport cheerio from 'cheerio';\r\nimport request from 'request';\r\nimport { getPrestigeLevel, getPrestigeStars } from './utils';\r\nimport { createEndorsementSVG } from './svg';\r\n\r\n\r\n// Get HTML from playoverwatch career page.\r\nfunction getHTML(platform, region, tag, callback) {\r\n  const url = platform === 'pc'\r\n    ? `https://playoverwatch.com/en-us/career/${platform}/${region}/${tag}`\r\n    : `https://playoverwatch.com/en-us/career/${platform}/${tag}`;\r\n\r\n  const options = {\r\n    uri: encodeURI(url),\r\n    encoding: 'utf8'\r\n  }\r\n\r\n  return request(options, (err, res, body) => {\r\n    return callback(err, body);\r\n  });\r\n}\r\n\r\n// Begin html parsing.\r\nfunction parseHTML(results, callback) {\r\n  const $ = cheerio.load(results.getHTML);\r\n\r\n  // Check if profile exists.\r\n  const isFound = $('.content-box h1').text() !== 'Profile Not Found';\r\n  if (!isFound) {\r\n    return callback(new Error('Profile not found'));\r\n  }\r\n\r\n  const parsed = {\r\n    user: $('.header-masthead').text(),\r\n    level: $('.player-level div').first().text(),\r\n    portrait: $('.player-portrait').attr('src'),\r\n    permission: $('.masthead-permission-level-text').text(),\r\n    endorsementLevel: $('.masthead .endorsement-level div').last().text(),\r\n    endorsementFrameEl: $('.masthead .EndorsementIcon').attr('style'),\r\n    sportsmanshipValue: $('.masthead .EndorsementIcon-border--sportsmanship').data('value'),\r\n    shotcallerValue: $('.masthead .EndorsementIcon-border--shotcaller').data('value'),\r\n    teammateValue: $('.masthead .EndorsementIcon-border--teammate').data('value'),\r\n    starEl: $('.player-rank').html(),\r\n    rankEl: $('.player-level').html(),\r\n  }\r\n\r\n  if (parsed.endorsementFrameEl) {\r\n    parsed.endorsementFrame = $('.masthead .EndorsementIcon').attr('style').slice(21, -1).replace(/ /g, '');\r\n  }\r\n\r\n  if (parsed.starEl !== null) {\r\n    parsed.star = $('.player-level .player-rank').attr('style').slice(21, -1).replace(/ /g, '');\r\n  }\r\n\r\n  if (parsed.rankEl !== null) {\r\n    parsed.rank = $('.player-level').attr('style').slice(21, -1).replace(/ /g, '');\r\n  }\r\n\r\n  const stats = {};\r\n\r\n  // Top Heroes.\r\n  const topHeroCategories = {\r\n    quickplay: {\r\n      'played': '0x0860000000000021',\r\n      'games_won': '0x0860000000000039',\r\n      'weapon_accuracy': '0x086000000000002F',\r\n      'eliminations_per_life': '0x08600000000003D2',\r\n      'multikill_best': '0x0860000000000346',\r\n      'objective_kills_average': '0x086000000000039C',\r\n    },\r\n    competitive: {\r\n      'played': '0x0860000000000021',\r\n      'games_won': '0x0860000000000039',\r\n      'win_rate': '0x08600000000003D1',\r\n      'weapon_accuracy': '0x086000000000002F',\r\n      'eliminations_per_life': '0x08600000000003D2',\r\n      'multikill_best': '0x0860000000000346',\r\n      'objective_kills_average': '0x086000000000039C',\r\n    }\r\n  };\r\n\r\n  // Quickplay.\r\n  stats['top_heroes'] = { quickplay: {} };\r\n  Object.keys(topHeroCategories.quickplay).forEach((k) => {\r\n    const topHeroesEls = $(`#quickplay [data-category-id=\"${topHeroCategories.quickplay[k]}\"]`)\r\n      .find('.progress-category-item');\r\n    let topHeroes = [];\r\n    topHeroesEls.each(function(i, el) {\r\n      const stat = {};\r\n      stat.hero = $(this).find('.ProgressBar-title').text();\r\n      stat.img = $(this).find('.ProgressBar-thumb').attr('src');\r\n      stat[k] = $(this).find('.ProgressBar-description').text();\r\n      topHeroes.push(stat);\r\n    });\r\n    stats['top_heroes']['quickplay'][k] = topHeroes;\r\n  });\r\n\r\n  // Competitive.\r\n  stats['top_heroes']['competitive'] = {};\r\n  Object.keys(topHeroCategories.competitive).forEach((k) => {\r\n    const topHeroesEls = $(`#competitive [data-category-id=\"${topHeroCategories.competitive[k]}\"]`)\r\n      .find('.progress-category-item');\r\n    let topHeroes = [];\r\n    topHeroesEls.each(function(i, el) {\r\n      const stat = {};\r\n      stat.hero = $(this).find('.ProgressBar-title').text();\r\n      stat.img = $(this).find('.ProgressBar-thumb').attr('src');\r\n      stat[k] = $(this).find('.ProgressBar-description').text();\r\n      topHeroes.push(stat);\r\n    });\r\n    stats['top_heroes']['competitive'][k] = topHeroes;\r\n  });\r\n\r\n  //\r\n  // Career Stats\r\n  //\r\n  const statCategories = [\r\n    'Combat',\r\n    'Match Awards',\r\n    'Assists',\r\n    'Average',\r\n    'Miscellaneous',\r\n    'Best',\r\n    'Game'\r\n  ];\r\n\r\n  // Quickplay Stats.\r\n  statCategories.forEach(function(item) {\r\n    const els = $(`#quickplay [data-category-id=\"0x02E00000FFFFFFFF\"] h5:contains(\"${item}\")`).closest('table').find('tbody tr');\r\n    let statsArr = [];\r\n    els.each(function(i, el) {\r\n      let stat = {};\r\n      stat.title = $(this).find('td').first().text();\r\n      stat.value = $(this).find('td').next().text();\r\n      statsArr.push(stat);\r\n    });\r\n    item = item.replace(' ', '_').toLowerCase();\r\n    stats[item] = { quickplay: [] };\r\n    stats[item]['quickplay'] = statsArr;\r\n  });\r\n\r\n  // Competitive Stats.\r\n  statCategories.forEach(function(item) {\r\n    const els = $(`#competitive [data-category-id=\"0x02E00000FFFFFFFF\"] h5:contains(\"${item}\")`).closest('table').find('tbody tr');\r\n    let statsArr = [];\r\n    els.each(function(i, el) {\r\n      let stat = {};\r\n      stat.title = $(this).find('td').first().text();\r\n      stat.value = $(this).find('td').next().text();\r\n      statsArr.push(stat);\r\n    });\r\n    item = item.replace(' ', '_').toLowerCase();\r\n    stats[item]['competitive'] = [];\r\n    stats[item]['competitive'] = statsArr;\r\n  });\r\n\r\n  return callback(null, { stats, parsed });\r\n}\r\n\r\n// Transform the data into a json object we can serve.\r\nfunction transform(results, callback) {\r\n  const { parseHTML } = results;\r\n  const { stats, parsed } = parseHTML;\r\n\r\n  const endorsement = {\r\n    sportsmanship: { value: parsed.sportsmanshipValue, rate: parseFloat((parsed.sportsmanshipValue * 100).toFixed(2)) },\r\n    shotcaller: { value: parsed.shotcallerValue, rate: parseFloat((parsed.shotcallerValue * 100).toFixed(2)) },\r\n    teammate: { value: parsed.teammateValue, rate: parseFloat((parsed.teammateValue * 100).toFixed(2)) },\r\n    level: parseInt(parsed.endorsementLevel),\r\n    frame: parsed.endorsementFrame,\r\n  };\r\n  endorsement.icon = createEndorsementSVG(endorsement);\r\n\r\n  // Calculate the prestige level.\r\n  let level = parsed.level;\r\n  if (parsed.star && parsed.rank) {\r\n    const starsMatch = path.basename(parsed.star).split('.').slice(0, -1)[0];\r\n    const rankMatch = path.basename(parsed.rank).split('.').slice(0, -1)[0];\r\n    const stars = starsMatch ? getPrestigeStars(starsMatch) : 0;\r\n    const rank = rankMatch ? getPrestigeLevel(rankMatch) : 0;\r\n    const prestige = parseInt(stars) + parseInt(rank);\r\n    level = parseInt(parsed.level) + (parseInt(prestige) * 100);\r\n  }\r\n\r\n  const json = {\r\n    username: parsed.user,\r\n    level: parseInt(level),\r\n    portrait: parsed.portrait,\r\n    endorsement: endorsement,\r\n    private: parsed.permission === 'Private Profile',\r\n    stats: stats\r\n  }\r\n\r\n  return callback(null, json);\r\n}\r\n\r\nexport default function(platform, region, tag, callback) {\r\n  async.auto({\r\n    getHTML: async.apply(getHTML, platform, region, tag),\r\n    parseHTML: ['getHTML', async.apply(parseHTML)],\r\n    transform: ['getHTML', 'parseHTML', async.apply(transform)],\r\n  }, function(err, results) {\r\n    if (err) {\r\n      return callback(err);\r\n    }\r\n    return callback(null, results.transform);\r\n  });\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ce1c97022c5e5b743dd01e382f6065b7bcb27bf4","contentHash":"72ebf24e15217d15bffebc61665a8ab2fd575c9cfa02687a2b864312c410578d"}}